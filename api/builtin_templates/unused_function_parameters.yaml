name: Unused Function Parameters
description: Unused function parameters indicate incomplete implementation or logic errors.
severity: Low
certainty: Low
vulnerable_example: https://github.com/Auditware/radar/blob/main/api/tests/mocks/unused_function_parameters/bad/lib.rs#L13
rule: |
  for source, nodes in ast:
    try:
      funcs = nodes.find_all_functions().exit_on_none()
      for func in funcs:
        access_path = func.access_path or ""
        if ".impl." not in access_path:
          continue
        
        has_address_param = func.find_by_names("Address", "U256", "Bytes")
        if not has_address_param.nodes:
          continue
        
        param_names = []
        for param_node in has_address_param.nodes:
          param_name = param_node.ident
          if param_name and param_name not in ["Address", "U256", "Bytes", "self"]:
            usage = func.find_by_names(param_name)
            if len(usage.nodes) <= 1:
              func_ident = func.find_by_names(func.ident).exit_on_none().first()
              if func_ident.parent and func_ident.parent.metadata:
                print(func_ident.parent.to_result())
              else:
                print(func_ident.to_result())
              break
    except:
      continue
